import{p as A,y as Ae,q as Ie,aj as Ye,z as Te,a2 as Be,aI as Oe,A as Ne,s as Ee,B as We,v as I,I as $e,C as te,D as ke,E as Re,ak as He,G as Ue,a7 as Fe,aJ as je,H as Le,x as T,b as l,X as Y,r as N,$ as ae,aK as le,a4 as ne,L as P,aL as qe,l as M,F as z,ah as Ke,a9 as he,O as J,aM as ze,aN as R,aO as L,aP as Je,K as q,S as ye,h as G,aQ as ge,_ as w,P as Ve,aR as Qe,T as Xe,av as Ge,aS as Ze,aT as $,aU as et,aV as tt,aW as at,aX as nt,aY as oe,u as lt,aZ as ot,i as rt,a as st,o as W,af as Z,w as S,N as it,t as X,c as ee,ai as Pe,d as ut,V as dt,n as be,e as ct}from"./index-D1rVZMnS.js";import"./products-Dg53Odab.js";import{V as O}from"./VCol-CPa67INW.js";import{V as vt}from"./VDataTable-D2iISWUd.js";import{V as mt}from"./VContainer-CvW6Gi3O.js";import{V as ft}from"./VRow-6aoeI-vX.js";import"./index.esm-CM_mT7FP.js";import"./vee-validate.esm-iWLRhtpm.js";import"./route-block-B_A1xBdJ.js";import"./VDivider-ChXDXOIk.js";import"./VForm-BM63iIGO.js";import"./VList-BBrZecQj.js";import"./ssrBoot-sUAhX7jW.js";const pe=A({color:String,...Ae(),...Ie(),...Ye(),...Te(),...Be(),...Oe(),...Ne(),...Ee(),...We()},"VSheet"),re=I()({name:"VSheet",props:pe(),setup(e,a){let{slots:f}=a;const{themeClasses:s}=$e(e),{backgroundColorClasses:t,backgroundColorStyles:i}=te(ke(e,"color")),{borderClasses:r}=Re(e),{dimensionStyles:u}=He(e),{elevationClasses:o}=Ue(e),{locationStyles:n}=Fe(e),{positionClasses:d}=je(e),{roundedClasses:V}=Le(e);return T(()=>l(e.tag,{class:["v-sheet",s.value,t.value,r.value,o.value,d.value,V.value,e.class],style:[i.value,u.value,n.value,e.style]},f)),{}}}),De=A({modelValue:null,color:String,cancelText:{type:String,default:"$vuetify.confirmEdit.cancel"},okText:{type:String,default:"$vuetify.confirmEdit.ok"}},"VConfirmEdit"),se=I()({name:"VConfirmEdit",props:De(),emits:{cancel:()=>!0,save:e=>!0,"update:modelValue":e=>!0},setup(e,a){let{emit:f,slots:s}=a;const t=Y(e,"modelValue"),i=N();ae(()=>{i.value=structuredClone(le(t.value))});const{t:r}=ne(),u=P(()=>qe(t.value,i.value));function o(){t.value=i.value,f("save",i.value)}function n(){i.value=structuredClone(le(t.value)),f("cancel")}let d=!1;return T(()=>{var v;const V=l(z,null,[l(M,{disabled:u.value,variant:"text",color:e.color,onClick:n,text:r(e.cancelText)},null),l(M,{disabled:u.value,variant:"text",color:e.color,onClick:o,text:r(e.okText)},null)]);return l(z,null,[(v=s.default)==null?void 0:v.call(s,{model:i,save:o,cancel:n,isPristine:u.value,get actions(){return d=!0,V}}),!d&&V])}),{save:o,cancel:n,isPristine:u}}}),_e=A({active:{type:[String,Array],default:void 0},disabled:{type:[Boolean,String,Array],default:!1},nextIcon:{type:[String],default:"$next"},prevIcon:{type:[String],default:"$prev"},modeIcon:{type:[String],default:"$subgroup"},text:String,viewMode:{type:String,default:"month"}},"VDatePickerControls"),ie=I()({name:"VDatePickerControls",props:_e(),emits:{"click:year":()=>!0,"click:month":()=>!0,"click:prev":()=>!0,"click:next":()=>!0,"click:text":()=>!0},setup(e,a){let{emit:f}=a;const s=P(()=>Array.isArray(e.disabled)?e.disabled.includes("text"):!!e.disabled),t=P(()=>Array.isArray(e.disabled)?e.disabled.includes("mode"):!!e.disabled),i=P(()=>Array.isArray(e.disabled)?e.disabled.includes("prev"):!!e.disabled),r=P(()=>Array.isArray(e.disabled)?e.disabled.includes("next"):!!e.disabled);function u(){f("click:prev")}function o(){f("click:next")}function n(){f("click:year")}function d(){f("click:month")}return T(()=>l("div",{class:["v-date-picker-controls"]},[l(M,{class:"v-date-picker-controls__month-btn",disabled:s.value,text:e.text,variant:"text",rounded:!0,onClick:d},null),l(M,{key:"mode-btn",class:"v-date-picker-controls__mode-btn",disabled:t.value,density:"comfortable",icon:e.modeIcon,variant:"text",onClick:n},null),l(Ke,{key:"mode-spacer"},null),l("div",{key:"month-buttons",class:"v-date-picker-controls__month"},[l(M,{disabled:i.value,icon:e.prevIcon,variant:"text",onClick:u},null),l(M,{disabled:r.value,icon:e.nextIcon,variant:"text",onClick:o},null)])])),{}}}),kt=A({appendIcon:String,color:String,header:String,transition:String,onClick:ze()},"VDatePickerHeader"),ue=I()({name:"VDatePickerHeader",props:kt(),emits:{click:()=>!0,"click:append":()=>!0},setup(e,a){let{emit:f,slots:s}=a;const{backgroundColorClasses:t,backgroundColorStyles:i}=te(e,"color");function r(){f("click")}function u(){f("click:append")}return T(()=>{const o=!!(s.default||e.header),n=!!(s.append||e.appendIcon);return l("div",{class:["v-date-picker-header",{"v-date-picker-header--clickable":!!e.onClick},t.value],style:i.value,onClick:r},[s.prepend&&l("div",{key:"prepend",class:"v-date-picker-header__prepend"},[s.prepend()]),o&&l(he,{key:"content",name:e.transition},{default:()=>{var d;return[l("div",{key:e.header,class:"v-date-picker-header__content"},[((d=s.default)==null?void 0:d.call(s))??e.header])]}}),n&&l("div",{class:"v-date-picker-header__append"},[s.append?l(J,{key:"append-defaults",disabled:!e.appendIcon,defaults:{VBtn:{icon:e.appendIcon,variant:"text"}}},{default:()=>{var d;return[(d=s.append)==null?void 0:d.call(s)]}}):l(M,{key:"append-btn",icon:e.appendIcon,variant:"text",onClick:u},null)])])}),{}}}),ht=A({allowedDates:[Array,Function],disabled:Boolean,displayValue:null,modelValue:Array,month:[Number,String],max:null,min:null,showAdjacentMonths:Boolean,year:[Number,String],weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},weeksInMonth:{type:String,default:"dynamic"}},"calendar");function yt(e){const a=R(),f=Y(e,"modelValue",[],v=>L(v)),s=P(()=>e.displayValue?a.date(e.displayValue):f.value.length>0?a.date(f.value[0]):e.min?a.date(e.min):Array.isArray(e.allowedDates)?a.date(e.allowedDates[0]):a.date()),t=Y(e,"year",void 0,v=>{const k=v!=null?Number(v):a.getYear(s.value);return a.startOfYear(a.setYear(a.date(),k))},v=>a.getYear(v)),i=Y(e,"month",void 0,v=>{const k=v!=null?Number(v):a.getMonth(s.value),c=a.setYear(a.startOfMonth(a.date()),a.getYear(t.value));return a.setMonth(c,k)},v=>a.getMonth(v)),r=P(()=>{const v=a.getWeekArray(i.value),k=v.flat(),c=6*7;if(e.weeksInMonth==="static"&&k.length<c){const g=k[k.length-1];let b=[];for(let h=1;h<=c-k.length;h++)b.push(a.addDays(g,h)),h%7===0&&(v.push(b),b=[])}return v});function u(v,k){return v.filter(c=>e.weekdays.includes(a.toJsDate(c).getDay())).map((c,g)=>{const b=a.toISO(c),h=!a.isSameMonth(c,i.value),m=a.isSameDay(c,a.startOfMonth(i.value)),p=a.isSameDay(c,a.endOfMonth(i.value)),x=a.isSameDay(c,i.value);return{date:c,isoDate:b,formatted:a.format(c,"keyboardDate"),year:a.getYear(c),month:a.getMonth(c),isDisabled:V(c),isWeekStart:g%7===0,isWeekEnd:g%7===6,isToday:a.isSameDay(c,k),isAdjacent:h,isHidden:h&&!e.showAdjacentMonths,isStart:m,isSelected:f.value.some(_=>a.isSameDay(c,_)),isEnd:p,isSame:x,localized:a.format(c,"dayOfMonth")}})}const o=P(()=>{const v=a.startOfWeek(s.value),k=[];for(let g=0;g<=6;g++)k.push(a.addDays(v,g));const c=a.date();return u(k,c)}),n=P(()=>{const v=r.value.flat(),k=a.date();return u(v,k)}),d=P(()=>r.value.map(v=>v.length?Je(a,v[0]):null));function V(v){if(e.disabled)return!0;const k=a.date(v);return e.min&&a.isAfter(a.date(e.min),k)||e.max&&a.isAfter(k,a.date(e.max))?!0:Array.isArray(e.allowedDates)&&e.allowedDates.length>0?!e.allowedDates.some(c=>a.isSameDay(a.date(c),k)):typeof e.allowedDates=="function"?!e.allowedDates(k):!1}return{displayValue:s,daysInMonth:n,daysInWeek:o,genDays:u,model:f,weeksInMonth:r,weekNumbers:d}}const xe=A({color:String,hideWeekdays:Boolean,multiple:[Boolean,Number,String],showWeek:Boolean,transition:{type:String,default:"picker-transition"},reverseTransition:{type:String,default:"picker-reverse-transition"},...ht()},"VDatePickerMonth"),de=I()({name:"VDatePickerMonth",props:xe(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0},setup(e,a){let{emit:f,slots:s}=a;const t=N(),{daysInMonth:i,model:r,weekNumbers:u}=yt(e),o=R(),n=q(),d=q(),V=q(!1),v=P(()=>V.value?e.reverseTransition:e.transition);e.multiple==="range"&&r.value.length>0&&(n.value=r.value[0],r.value.length>1&&(d.value=r.value[r.value.length-1]));const k=P(()=>{const h=["number","string"].includes(typeof e.multiple)?Number(e.multiple):1/0;return r.value.length>=h});ye(i,(h,m)=>{m&&(V.value=o.isBefore(h[0].date,m[0].date))});function c(h){const m=o.startOfDay(h);if(r.value.length===0&&(n.value=void 0),!n.value)n.value=m,r.value=[n.value];else if(d.value)n.value=h,d.value=void 0,r.value=[n.value];else{if(o.isSameDay(m,n.value)){n.value=void 0,r.value=[];return}else o.isBefore(m,n.value)?(d.value=o.endOfDay(n.value),n.value=m):d.value=o.endOfDay(m);const p=o.getDiff(d.value,n.value,"days"),x=[n.value];for(let _=1;_<p;_++){const K=o.addDays(n.value,_);x.push(K)}x.push(d.value),r.value=x}}function g(h){const m=r.value.findIndex(p=>o.isSameDay(p,h));if(m===-1)r.value=[...r.value,h];else{const p=[...r.value];p.splice(m,1),r.value=p}}function b(h){e.multiple==="range"?c(h):e.multiple?g(h):r.value=[h]}return()=>l("div",{class:"v-date-picker-month"},[e.showWeek&&l("div",{key:"weeks",class:"v-date-picker-month__weeks"},[!e.hideWeekdays&&l("div",{key:"hide-week-days",class:"v-date-picker-month__day"},[G(" ")]),u.value.map(h=>l("div",{class:["v-date-picker-month__day","v-date-picker-month__day--adjacent"]},[h]))]),l(he,{name:v.value},{default:()=>{var h;return[l("div",{ref:t,key:(h=i.value[0].date)==null?void 0:h.toString(),class:"v-date-picker-month__days"},[!e.hideWeekdays&&o.getWeekdays().map(m=>l("div",{class:["v-date-picker-month__day","v-date-picker-month__weekday"]},[m])),i.value.map((m,p)=>{const x={props:{onClick:()=>b(m.date)},item:m,i:p};return k.value&&!m.isSelected&&(m.isDisabled=!0),l("div",{class:["v-date-picker-month__day",{"v-date-picker-month__day--adjacent":m.isAdjacent,"v-date-picker-month__day--hide-adjacent":m.isHidden,"v-date-picker-month__day--selected":m.isSelected,"v-date-picker-month__day--week-end":m.isWeekEnd,"v-date-picker-month__day--week-start":m.isWeekStart}],"data-v-date":m.isDisabled?void 0:m.isoDate},[(e.showAdjacentMonths||!m.isAdjacent)&&l(J,{defaults:{VBtn:{class:"v-date-picker-month__day-btn",color:(m.isSelected||m.isToday)&&!m.isDisabled?e.color:void 0,disabled:m.isDisabled,icon:!0,ripple:!1,text:m.localized,variant:m.isDisabled?m.isToday?"outlined":"text":m.isToday&&!m.isSelected?"outlined":"flat",onClick:()=>b(m.date)}}},{default:()=>{var _;return[((_=s.day)==null?void 0:_.call(s,x))??l(M,x.props,null)]}})])})])]}})])}}),Ce=A({color:String,height:[String,Number],min:null,max:null,modelValue:Number,year:Number},"VDatePickerMonths"),ce=I()({name:"VDatePickerMonths",props:Ce(),emits:{"update:modelValue":e=>!0},setup(e,a){let{emit:f,slots:s}=a;const t=R(),i=Y(e,"modelValue"),r=P(()=>{let u=t.startOfYear(t.date());return e.year&&(u=t.setYear(u,e.year)),ge(12).map(o=>{const n=t.format(u,"monthShort"),d=!!(e.min&&t.isAfter(t.startOfMonth(t.date(e.min)),u)||e.max&&t.isAfter(u,t.startOfMonth(t.date(e.max))));return u=t.getNextMonth(u),{isDisabled:d,text:n,value:o}})});return ae(()=>{i.value=i.value??t.getMonth(t.date())}),T(()=>l("div",{class:"v-date-picker-months",style:{height:Ve(e.height)}},[l("div",{class:"v-date-picker-months__content"},[r.value.map((u,o)=>{var V;const n={active:i.value===o,color:i.value===o?e.color:void 0,disabled:u.isDisabled,rounded:!0,text:u.text,variant:i.value===u.value?"flat":"text",onClick:()=>d(o)};function d(v){if(i.value===v){f("update:modelValue",i.value);return}i.value=v}return((V=s.month)==null?void 0:V.call(s,{month:u,i:o,props:n}))??l(M,w({key:"month"},n),null)})])])),{}}}),Se=A({color:String,height:[String,Number],min:null,max:null,modelValue:Number},"VDatePickerYears"),ve=I()({name:"VDatePickerYears",props:Se(),emits:{"update:modelValue":e=>!0},setup(e,a){let{emit:f,slots:s}=a;const t=R(),i=Y(e,"modelValue"),r=P(()=>{const o=t.getYear(t.date());let n=o-100,d=o+52;e.min&&(n=t.getYear(t.date(e.min))),e.max&&(d=t.getYear(t.date(e.max)));let V=t.startOfYear(t.date());return V=t.setYear(V,n),ge(d-n+1,n).map(v=>{const k=t.format(V,"year");return V=t.setYear(V,t.getYear(V)+1),{text:k,value:v}})});ae(()=>{i.value=i.value??t.getYear(t.date())});const u=Qe();return Xe(async()=>{var o;await Ge(),(o=u.el)==null||o.scrollIntoView({block:"center"})}),T(()=>l("div",{class:"v-date-picker-years",style:{height:Ve(e.height)}},[l("div",{class:"v-date-picker-years__content"},[r.value.map((o,n)=>{var V;const d={ref:i.value===o.value?u:void 0,active:i.value===o.value,color:i.value===o.value?e.color:void 0,rounded:!0,text:o.text,variant:i.value===o.value?"flat":"text",onClick:()=>{if(i.value===o.value){f("update:modelValue",i.value);return}i.value=o.value}};return((V=s.year)==null?void 0:V.call(s,{year:o,i:n,props:d}))??l(M,w({key:"month"},d),null)})])])),{}}}),gt=Ze("v-picker-title"),we=A({bgColor:String,landscape:Boolean,title:String,hideHeader:Boolean,...pe()},"VPicker"),me=I()({name:"VPicker",props:we(),setup(e,a){let{slots:f}=a;const{backgroundColorClasses:s,backgroundColorStyles:t}=te(ke(e,"color"));return T(()=>{const i=re.filterProps(e),r=!!(e.title||f.title);return l(re,w(i,{color:e.bgColor,class:["v-picker",{"v-picker--landscape":e.landscape,"v-picker--with-actions":!!f.actions},e.class],style:e.style}),{default:()=>{var u;return[!e.hideHeader&&l("div",{key:"header",class:[s.value],style:[t.value]},[r&&l(gt,{key:"picker-title"},{default:()=>{var o;return[((o=f.title)==null?void 0:o.call(f))??e.title]}}),f.header&&l("div",{class:"v-picker__header"},[f.header()])]),l("div",{class:"v-picker__body"},[(u=f.default)==null?void 0:u.call(f)]),f.actions&&l(J,{defaults:{VBtn:{slim:!0,variant:"text"}}},{default:()=>[l("div",{class:"v-picker__actions"},[f.actions()])]})]}})}),{}}}),Me=A({header:{type:String,default:"$vuetify.datePicker.header"},..._e(),...xe({weeksInMonth:"static"}),...$(Ce(),["modelValue"]),...$(Se(),["modelValue"]),...we({title:"$vuetify.datePicker.title"}),modelValue:null},"VDatePicker"),fe=I()({name:"VDatePicker",props:Me(),emits:{"update:modelValue":e=>!0,"update:month":e=>!0,"update:year":e=>!0,"update:viewMode":e=>!0},setup(e,a){let{emit:f,slots:s}=a;const t=R(),{t:i}=ne(),r=Y(e,"modelValue",void 0,y=>L(y),y=>e.multiple?y:y[0]),u=Y(e,"viewMode"),o=P(()=>{var C;const y=t.date((C=r.value)==null?void 0:C[0]);return y&&t.isValid(y)?y:t.date()}),n=N(Number(e.month??t.getMonth(t.startOfMonth(o.value)))),d=N(Number(e.year??t.getYear(t.startOfYear(t.setMonth(o.value,n.value))))),V=q(!1),v=P(()=>e.multiple&&r.value.length>1?i("$vuetify.datePicker.itemsSelected",r.value.length):r.value[0]&&t.isValid(r.value[0])?t.format(t.date(r.value[0]),"normalDateWithWeekday"):i(e.header)),k=P(()=>{let y=t.date();return y=t.setDate(y,1),y=t.setMonth(y,n.value),y=t.setYear(y,d.value),t.format(y,"monthAndYear")}),c=P(()=>`date-picker-header${V.value?"-reverse":""}-transition`),g=P(()=>{const y=t.date(e.min);return e.min&&t.isValid(y)?y:null}),b=P(()=>{const y=t.date(e.max);return e.max&&t.isValid(y)?y:null}),h=P(()=>{if(e.disabled)return!0;const y=[];if(u.value!=="month")y.push("prev","next");else{let C=t.date();if(C=t.setYear(C,d.value),C=t.setMonth(C,n.value),g.value){const B=t.addDays(t.startOfMonth(C),-1);t.isAfter(g.value,B)&&y.push("prev")}if(b.value){const B=t.addDays(t.endOfMonth(C),1);t.isAfter(B,b.value)&&y.push("next")}}return y});function m(){n.value<11?n.value++:(d.value++,n.value=0,U(d.value)),H(n.value)}function p(){n.value>0?n.value--:(d.value--,n.value=11,U(d.value)),H(n.value)}function x(){u.value="month"}function _(){u.value=u.value==="months"?"month":"months"}function K(){u.value=u.value==="year"?"month":"year"}function H(y){u.value==="months"&&_(),f("update:month",y)}function U(y){u.value==="year"&&K(),f("update:year",y)}return ye(r,(y,C)=>{const B=L(C),F=L(y);if(!F.length)return;const Q=t.date(B[B.length-1]),j=t.date(F[F.length-1]),E=t.getMonth(j),D=t.getYear(j);E!==n.value&&(n.value=E,H(n.value)),D!==d.value&&(d.value=D,U(d.value)),V.value=t.isBefore(Q,j)}),T(()=>{const y=me.filterProps(e),C=ie.filterProps(e),B=ue.filterProps(e),F=de.filterProps(e),Q=$(ce.filterProps(e),["modelValue"]),j=$(ve.filterProps(e),["modelValue"]),E={header:v.value,transition:c.value};return l(me,w(y,{class:["v-date-picker",`v-date-picker--${u.value}`,{"v-date-picker--show-week":e.showWeek},e.class],style:e.style}),{title:()=>{var D;return((D=s.title)==null?void 0:D.call(s))??l("div",{class:"v-date-picker__title"},[i(e.title)])},header:()=>s.header?l(J,{defaults:{VDatePickerHeader:{...E}}},{default:()=>{var D;return[(D=s.header)==null?void 0:D.call(s,E)]}}):l(ue,w({key:"header"},B,E,{onClick:u.value!=="month"?x:void 0}),{...s,default:void 0}),default:()=>l(z,null,[l(ie,w(C,{disabled:h.value,text:k.value,"onClick:next":m,"onClick:prev":p,"onClick:month":_,"onClick:year":K}),null),l(et,{hideOnLeave:!0},{default:()=>[u.value==="months"?l(ce,w({key:"date-picker-months"},Q,{modelValue:n.value,"onUpdate:modelValue":[D=>n.value=D,H],min:g.value,max:b.value,year:d.value}),null):u.value==="year"?l(ve,w({key:"date-picker-years"},j,{modelValue:d.value,"onUpdate:modelValue":[D=>d.value=D,U],min:g.value,max:b.value}),null):l(de,w({key:"date-picker-month"},F,{modelValue:r.value,"onUpdate:modelValue":D=>r.value=D,month:n.value,"onUpdate:month":[D=>n.value=D,H],year:d.value,"onUpdate:year":[D=>d.value=D,U],min:g.value,max:b.value}),null)]})]),actions:s.actions})}),{}}}),Vt=A({hideActions:Boolean,...tt(),...De(),...at({placeholder:"mm/dd/yyyy",prependIcon:"$calendar"}),...$(Me({weeksInMonth:"dynamic",hideHeader:!0}),["active"])},"VDateInput"),Pt=I()({name:"VDateInput",props:Vt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:f}=a;const{t:s}=ne(),t=R(),{isFocused:i,focus:r,blur:u}=nt(e),o=Y(e,"modelValue",e.multiple?[]:null),n=q(!1),d=P(()=>{const c=L(o.value);if(!c.length)return null;if(e.multiple===!0)return s("$vuetify.datePicker.itemsSelected",c.length);if(e.multiple==="range"){const g=c[0],b=c[c.length-1];return t.isValid(g)&&t.isValid(b)?`${t.format(g,"keyboardDate")} - ${t.format(b,"keyboardDate")}`:""}return t.isValid(o.value)?t.format(o.value,"keyboardDate"):""});function V(c){if(c.key!=="Enter")return;if(!n.value||!i.value){n.value=!0;return}const g=c.target;o.value=t.date(g.value)}function v(c){c.preventDefault(),c.stopPropagation(),n.value=!0}function k(){n.value=!1}T(()=>{const c=se.filterProps(e),g=fe.filterProps($(e,["active"])),b=oe.filterProps(e);return l(oe,w(b,{modelValue:d.value,onKeydown:V,focused:n.value||i.value,onFocus:r,onBlur:u,"onClick:control":v,"onClick:prepend":v}),{default:()=>{var h;return[l(vt,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,activator:"parent","min-width":"0",closeOnContentClick:!1,openOnClick:!1},{default:()=>[l(se,w(c,{modelValue:o.value,"onUpdate:modelValue":m=>o.value=m,onSave:k}),{default:m=>{let{actions:p,model:x}=m;return l(fe,w(g,{modelValue:e.hideActions?o.value:x.value,"onUpdate:modelValue":_=>{e.hideActions?(o.value=_,e.multiple||(n.value=!1)):x.value=_},onMousedown:_=>_.preventDefault()}),{actions:e.hideActions?void 0:()=>p})}})]}),(h=f.default)==null?void 0:h.call(f)]}})})}}),bt={key:0},pt={key:1},Dt={__name:"ProductCard",props:["_id","category","description","quantity","image","name","price","sell"],setup(e){const a=lt(),f=ot(),s=rt(),{apiAuth:t}=be(),i=e,r=N(null),u=P(()=>new Date().toISOString().split("T")[0]),o=N(0),n=async()=>{if(a.isLogin){if(r.value===null){s({text:"沒有選擇日期",snackbarProps:{color:"red"}});return}else if(r.value[1]===u.value){s({text:"結束日期不能為今天",snackbarProps:{color:"red"}});return}}else{f.push("/login");return}const v=await a.addCart(i._id,1,r.value);s({text:v.text,snackbarProps:{color:v.color}})},d=async v=>{if(v!==null){const k=v[0];o.value=i.quantity;const c=new Date(k);c.setHours(c.getHours()+8);const g=c.toISOString();await V(g)}else s({text:"要選範圍",snackbarProps:{color:"red"}})},V=async v=>{var k,c;try{const{data:g}=await t.get("/order/all");g.result.forEach(b=>{b.cart.forEach(h=>{console.log("date",h),h.p_id._id===i._id&&h.date.forEach(m=>{const p=new Date(m);p.setHours(p.getHours()-8),console.log("new Date(date2)",p),console.log("model.value[0]",r.value[0]),r.value.some(x=>x.getTime()===p.getTime())&&(console.log(456),o.value--)})}),console.log("finaldate",v)})}catch(g){console.log(g),s({text:((c=(k=g==null?void 0:g.response)==null?void 0:k.data)==null?void 0:c.message)||"發生錯誤",snackbarProps:{color:"red"}})}};return(v,k)=>{const c=st("router-link");return W(),Z(dt,{class:"d-flex align-center text-center h-100"},{default:S(()=>[l(O,{cols:"3"},{default:S(()=>[l(it,{src:e.image,cover:"",height:"500"},null,8,["src"])]),_:1}),l(O,{col:"1"},{default:S(()=>[l(c,{to:"/products/"+e._id},{default:S(()=>[G(X(e.name),1)]),_:1},8,["to"])]),_:1}),l(O,null,{default:S(()=>[r.value?(W(),ee("h3",bt,"剩餘數量: "+X(o.value),1)):(W(),ee("h3",pt,"請選擇日期"))]),_:1}),l(O,null,{default:S(()=>[Pe("h3",null,"價格$"+X(e.price),1)]),_:1}),l(O,{cols:"2"},{default:S(()=>[l(ut(Pt),{modelValue:r.value,"onUpdate:modelValue":[k[0]||(k[0]=g=>r.value=g),d],label:"訂房日期",multiple:"range",min:u.value,"max-weight":"365"},null,8,["modelValue","min"])]),_:1}),l(O,{cols:"3"},{default:S(()=>[l(M,{color:"primary",type:"submit","prepend-icon":"mdi-cart",onClick:n},{default:S(()=>[G("加入購物車")]),_:1})]),_:1})]),_:1})}}},_t=Pe("h1",{class:"text-center"},"客房介紹",-1),Wt={__name:"aboutroom",setup(e){const{api:a}=be(),f=N([]);return(async()=>{try{const{data:t}=await a.get("/product",{params:{itemsPerPage:100}});f.value=t.result.data}catch(t){console.error(t)}})(),(t,i)=>(W(),Z(mt,null,{default:S(()=>[l(ft,null,{default:S(()=>[l(O,{cols:"12"},{default:S(()=>[_t]),_:1}),(W(!0),ee(z,null,ct(f.value,r=>(W(),Z(O,{cols:"12",key:r._id},{default:S(()=>[l(Dt,w({ref_for:!0},r),null,16)]),_:2},1024))),128))]),_:1})]),_:1}))}};export{Wt as default};

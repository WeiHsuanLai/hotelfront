import{u as h,i as x,a3 as w,w as o,aE as S,o as k,b as s,d as e,f as B,b0 as m,a6 as f,l as F,h as y}from"./index-YyHzES5v.js";import{u as C,a as c}from"./vee-validate.esm-F4P_MFOY.js";import{c as M,a as d}from"./index.esm-CM_mT7FP.js";import{v as N}from"./index-pvikSey2.js";import{V as U}from"./VContainer-CnZVlQ52.js";import{V as p}from"./VCol-D6WDSyfM.js";import{V as q}from"./VDivider-23ly3y9Q.js";import{V as A}from"./VForm-DV_ApBvn.js";import{V as P}from"./VRow-DdUjCC6p.js";const R=f("h1",{class:"text-center"},"登入",-1),T={class:"text-center"},L={__name:"login",setup($){const V=S(),g=h(),u=x(),v=M({account:d().required("使用者帳號必填").min(4,"使用者帳號長度不符").max(20,"使用者帳號長度不符").test("isAlphanumeric","使用者帳號格式錯誤",r=>N.isAlphanumeric(r)),password:d().required("使用者密碼必填").min(4,"使用者密碼長度不符").max(20,"使用者密碼長度不符")}),{handleSubmit:b,isSubmitting:i}=C({validationSchema:v}),t=c("account"),l=c("password"),_=b(async r=>{const a=await g.login(r);a==="登入成功"?(u({text:a,snackbarProps:{color:"green"}}),V.push("/")):u({text:a,snackbarProps:{color:"red"}})});return(r,a)=>(k(),w(U,{class:"w-25"},{default:o(()=>[s(P,null,{default:o(()=>[s(p,{cols:"12"},{default:o(()=>[R]),_:1}),s(q),s(p,{cols:"12"},{default:o(()=>[s(A,{disabled:e(i),onSubmit:B(e(_),["prevent"])},{default:o(()=>[s(m,{label:"帳號",minlength:"4",maxlength:"20",counter:"",modelValue:e(t).value.value,"onUpdate:modelValue":a[0]||(a[0]=n=>e(t).value.value=n),"error-messages":e(t).errorMessage.value},null,8,["modelValue","error-messages"]),s(m,{label:"密碼",minlength:"4",maxlength:"20",counter:"",type:"password",modelValue:e(l).value.value,"onUpdate:modelValue":a[1]||(a[1]=n=>e(l).value.value=n),"error-messages":e(l).errorMessage.value},null,8,["modelValue","error-messages"]),f("div",T,[s(F,{type:"submit",color:"green",loading:e(i)},{default:o(()=>[y("登入")]),_:1},8,["loading"])])]),_:1},8,["disabled","onSubmit"])]),_:1})]),_:1})]),_:1}))}};export{L as default};
